from marshmallow import Schema, fields, validate

class MonthlySummarySchema(Schema):
    id = fields.Integer(dump_only=True)
    driver_id = fields.Integer(required=True)
    month = fields.Integer(required=True, validate=validate.Range(min=1, max=12))
    year = fields.Integer(required=True, validate=validate.Range(min=2000, max=2100))
    generated_at = fields.DateTime(required=True)
    calculation_method = fields.String(required=True)
    trips_counter = fields.Integer(required=True, validate=validate.Range(min=0))
    trips_count = fields.Integer(required=True, validate=validate.Range(min=0))
    km_traveled = fields.Float(allow_none=True, validate=validate.Range(min=0))
    total_tons = fields.Float(required=True, validate=validate.Range(min=0))
    total_billed = fields.Float(required=True, validate=validate.Range(min=0))
    total_commission = fields.Float(required=True, validate=validate.Range(min=0))
    total_expenses = fields.Float(required=True, validate=validate.Range(min=0))
    total_advance_payments = fields.Float(required=True, validate=validate.Range(min=0))
    final_settlement = fields.Float(required=True)
    pdf_url = fields.String(required=True, validate=validate.Length(max=75))

class MonthlySummaryUpdateSchema(Schema):
    driver_id = fields.Integer()
    month = fields.Integer(validate=validate.Range(min=1, max=12))
    year = fields.Integer(validate=validate.Range(min=2000, max=2100))
    generated_at = fields.DateTime()
    calculation_method = fields.String()
    trips_counter = fields.Integer(validate=validate.Range(min=0))
    trips_count = fields.Integer(validate=validate.Range(min=0))
    km_traveled = fields.Float(allow_none=True, validate=validate.Range(min=0))
    total_tons = fields.Float(validate=validate.Range(min=0))
    total_billed = fields.Float(validate=validate.Range(min=0))
    total_commission = fields.Float(validate=validate.Range(min=0))
    total_expenses = fields.Float(validate=validate.Range(min=0))
    total_advance_payments = fields.Float(validate=validate.Range(min=0))
    final_settlement = fields.Float()
    pdf_url = fields.String(validate=validate.Length(max=75))
